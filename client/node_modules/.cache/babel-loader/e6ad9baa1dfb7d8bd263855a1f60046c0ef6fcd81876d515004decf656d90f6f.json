{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Noah Linton/Documents/repos/carpenterServer/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Noah Linton/Documents/repos/carpenterServer/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Noah Linton/Documents/repos/carpenterServer/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"C:/Users/Noah Linton/Documents/repos/carpenterServer/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import{useState,useEffect}from\"react\";import axios from\"axios\";import{NavLink}from\"../components/Navbar/NavbarElements\";import'bootstrap/dist/css/bootstrap.min.css';import{Button}from\"react-bootstrap\";import styled,{createGlobalStyle,css}from'styled-components';import{MDBDataTable}from'mdbreact';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var GlobalStyle=createGlobalStyle(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  html{\\n    height: 100%;\\n\\n  }\\n\\n  body{\\n    font-family: Arial, Helvetica, sans-serif;\\n    background: linear-gradient(to top, #d1913c, #ffd194);\\n    background-attachment: fixed;\\n    height: 100%;\\n    margin: 0;\\n    color: 555;\\n  }\\n\\n\"])));function Accidents(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),accidents=_useState2[0],setAccidents=_useState2[1];useEffect(function(){getAccidents();},[]);var getAccidents=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('http://localhost:3000/accidents');case 2:res=_context.sent;setAccidents(res.data.accidents);case 4:case\"end\":return _context.stop();}},_callee);}));return function getAccidents(){return _ref.apply(this,arguments);};}();var handleDeleteAccident=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.delete(\"http://localhost:3000/accidents/\".concat(id));case 3:setAccidents(accidents.filter(function(accident){return accident._id!==id;}));_context2.next=9;break;case 6:_context2.prev=6;_context2.t0=_context2[\"catch\"](0);console.error('Error deleting accident:',_context2.t0.response);case 9:case\"end\":return _context2.stop();}},_callee2,null,[[0,6]]);}));return function handleDeleteAccident(_x){return _ref2.apply(this,arguments);};}();var _loop=function _loop(i){accidents[i]['edit']=/*#__PURE__*/_jsx(NavLink,{to:\"/accidents/edit/\".concat(accidents[i]['_id']),children:/*#__PURE__*/_jsx(Button,{style:{backgroundColor:'lightblue',border:'0'},children:\"Edit\"})});accidents[i]['delete']=/*#__PURE__*/_jsx(Button,{style:{backgroundColor:'darkred',border:'0'},onClick:function onClick(){return handleDeleteAccident(accidents[i]['_id']);},children:\" Delete \"});accidents[i]['date']=accidents[i]['date'].split('T')[0];};for(var i in accidents){_loop(i);}var data={columns:[{label:'Accident Report No.',field:'accidentReportNumber',sort:'asc',width:100},{label:'Student ID',field:'studentID',sort:'asc',width:200},{label:'School',field:'school',sort:'asc',width:100},{label:'Employee',field:'employeeID',sort:'asc',width:200},{label:'Room',field:'room',sort:'asc',width:100},{label:'Date',field:'date',sort:'asc',width:150},{label:'Location',field:'location',sort:'asc',width:100},{label:'Cause',field:'cause',sort:'asc',width:100},{label:'Response',field:'response',sort:'asc',width:100},{label:'Action',field:'preventativeAction',sort:'asc',width:100},{label:'Witnesses',field:'witnesses',sort:'asc',width:100},{label:'Edit',field:'edit'},{label:'Delete',field:'delete'}],rows:accidents};console.log(data);return/*#__PURE__*/_jsxs(\"div\",{style:{marginLeft:'auto'},children:[/*#__PURE__*/_jsx(GlobalStyle,{}),/*#__PURE__*/_jsx(\"h2\",{style:{marginLeft:'50%'},children:\"Accidents\"}),/*#__PURE__*/_jsxs(\"div\",{style:{width:'80%',marginLeft:'10%',backgroundColor:'#fff',borderRadius:'10px',padding:'0 20px',boxShadow:'0px 0px 20px 0px rgba(0,0,0,0.2)',minWidth:'650px'},children:[/*#__PURE__*/_jsx(MDBDataTable,{striped:true,small:true,data:data,noBottomColumns:true}),/*#__PURE__*/_jsx(\"div\",{style:{paddingBottom:'20px'},children:/*#__PURE__*/_jsx(NavLink,{to:\"/accidents/create\",activeStyle:true,children:/*#__PURE__*/_jsx(Button,{children:\"Create Accident\"})})})]})]});}export default Accidents;","map":{"version":3,"names":["useState","useEffect","axios","NavLink","Button","styled","createGlobalStyle","css","MDBDataTable","jsx","_jsx","jsxs","_jsxs","GlobalStyle","_templateObject","_taggedTemplateLiteral","Accidents","_useState","_useState2","_slicedToArray","accidents","setAccidents","getAccidents","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","wrap","_callee$","_context","prev","next","get","sent","data","stop","apply","arguments","handleDeleteAccident","_ref2","_callee2","id","_callee2$","_context2","delete","concat","filter","accident","_id","t0","console","error","response","_x","_loop","i","to","children","style","backgroundColor","border","onClick","split","columns","label","field","sort","width","rows","log","marginLeft","borderRadius","padding","boxShadow","minWidth","striped","small","noBottomColumns","paddingBottom","activeStyle"],"sources":["C:/Users/Noah Linton/Documents/repos/carpenterServer/client/src/pages/accidents.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport {NavLink} from \"../components/Navbar/NavbarElements\";\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport { Button } from \"react-bootstrap\";\r\nimport styled, {createGlobalStyle, css} from 'styled-components';\r\nimport { MDBDataTable } from 'mdbreact';\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n  html{\r\n    height: 100%;\r\n\r\n  }\r\n\r\n  body{\r\n    font-family: Arial, Helvetica, sans-serif;\r\n    background: linear-gradient(to top, #d1913c, #ffd194);\r\n    background-attachment: fixed;\r\n    height: 100%;\r\n    margin: 0;\r\n    color: 555;\r\n  }\r\n\r\n`\r\n\r\n\r\n\r\nfunction Accidents() {\r\n  const [accidents, setAccidents] = useState(null);\r\n  useEffect (() => {\r\n    getAccidents();\r\n  }, []);\r\n\r\n  const getAccidents = async () => {\r\n    const res = await axios.get('http://localhost:3000/accidents');\r\n    setAccidents(res.data.accidents);\r\n  };\r\n\r\nconst handleDeleteAccident = async (id) => {\r\n  try {\r\n    await axios.delete(`http://localhost:3000/accidents/${id}`);\r\n    setAccidents(accidents.filter((accident) => accident._id !== id));\r\n  } catch (error) {\r\n    console.error('Error deleting accident:', error.response);\r\n  }\r\n};\r\nfor (let i in accidents){\r\n  accidents[i]['edit']=(<NavLink to={`/accidents/edit/${accidents[i]['_id']}`}><Button style={{backgroundColor: 'lightblue', border: '0'}}>Edit</Button></NavLink>)\r\n  accidents[i]['delete']= <Button\r\n  style={{backgroundColor: 'darkred', border: '0'}}\r\n  onClick={() => handleDeleteAccident(accidents[i]['_id'])}\r\n> Delete </Button>\r\n  accidents[i]['date']= accidents[i]['date'].split('T')[0]\r\n  \r\n\r\n}\r\nconst data = {\r\n  columns: [\r\n    {\r\n      label: 'Accident Report No.',\r\n      field: 'accidentReportNumber',\r\n      sort: 'asc',\r\n      width: 100\r\n    },\r\n    {\r\n      label: 'Student ID',\r\n      field: 'studentID',\r\n      sort: 'asc',\r\n      width: 200\r\n    },\r\n    {\r\n      label: 'School',\r\n      field: 'school',\r\n      sort: 'asc',\r\n      width: 100\r\n    },\r\n    {\r\n      label: 'Employee',\r\n      field: 'employeeID',\r\n      sort: 'asc',\r\n      width: 200\r\n    },\r\n    {\r\n      label: 'Room',\r\n      field: 'room',\r\n      sort: 'asc',\r\n      width: 100\r\n    },\r\n    {\r\n      label: 'Date',\r\n      field: 'date',\r\n      sort: 'asc',\r\n      width: 150\r\n    },\r\n    {\r\n      label: 'Location',\r\n      field: 'location',\r\n      sort: 'asc',\r\n      width: 100\r\n    },\r\n    {\r\n      label: 'Cause',\r\n      field: 'cause',\r\n      sort: 'asc',\r\n      width: 100\r\n    },\r\n    {\r\n      label: 'Response',\r\n      field: 'response',\r\n      sort: 'asc',\r\n      width: 100\r\n    },\r\n    {\r\n      label: 'Action',\r\n      field: 'preventativeAction',\r\n      sort: 'asc',\r\n      width: 100\r\n    },\r\n    {\r\n      label: 'Witnesses',\r\n      field: 'witnesses',\r\n      sort: 'asc',\r\n      width: 100\r\n    },\r\n    {\r\n      label: 'Edit',\r\n      field: 'edit',\r\n    },\r\n    {\r\n      label: 'Delete',\r\n      field: 'delete',\r\n    }\r\n  ],\r\n  rows: \r\n    accidents\r\n  }\r\n  console.log(data)\r\n  return <div style={{marginLeft: 'auto'}}>\r\n    <GlobalStyle/>\r\n    <h2 style={{marginLeft: '50%'}}>Accidents</h2>\r\n    <div style={{width: '80%', marginLeft:'10%', backgroundColor: '#fff',\r\n                borderRadius: '10px', padding: '0 20px',boxShadow: '0px 0px 20px 0px rgba(0,0,0,0.2)', minWidth: '650px'}}>\r\n    <MDBDataTable\r\n      striped\r\n      small\r\n      data={data}\r\n      noBottomColumns={true} \r\n    />\r\n    <div style={{ paddingBottom:'20px'}}>\r\n<NavLink to=\"/accidents/create\" activeStyle>\r\n    <Button>Create Accident</Button>\r\n</NavLink>\r\n</div>\r\n</div>     \r\n</div>     \r\n}\r\nexport default Accidents;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}