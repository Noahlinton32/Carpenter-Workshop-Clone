{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Noah Linton/Documents/repos/carpenterServer/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Noah Linton/Documents/repos/carpenterServer/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Noah Linton/Documents/repos/carpenterServer/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"C:/Users/Noah Linton/Documents/repos/carpenterServer/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import{useState,useEffect}from\"react\";import axios from\"axios\";import{NavLink}from\"../components/Navbar/NavbarElements\";import'bootstrap/dist/css/bootstrap.min.css';import{Button}from\"react-bootstrap\";import styled,{createGlobalStyle,css}from'styled-components';import{MDBDataTable}from'mdbreact';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var GlobalStyle=createGlobalStyle(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  html{\\n    height: 100%;\\n\\n  }\\n\\n  body{\\n    font-family: Arial, Helvetica, sans-serif;\\n    background: linear-gradient(to top, #d1913c, #ffd194);\\n    background-attachment: fixed;\\n    height: 100%;\\n    margin: 0;\\n    color: 555;\\n  }\\n\"])));function Referrals(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),referrals=_useState2[0],setReferrals=_useState2[1];useEffect(function(){getReferrals();},[]);var getReferrals=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('http://localhost:3000/referrals');case 2:res=_context.sent;setReferrals(res.data.referrals);case 4:case\"end\":return _context.stop();}},_callee);}));return function getReferrals(){return _ref.apply(this,arguments);};}();var deleteReferral=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.delete(\"http://localhost:3000/referrals/\".concat(id));case 3:setReferrals(referrals.filter(function(referral){return referral._id!==id;}));_context2.next=9;break;case 6:_context2.prev=6;_context2.t0=_context2[\"catch\"](0);console.error(\"Error deleting referral:\",_context2.t0);case 9:case\"end\":return _context2.stop();}},_callee2,null,[[0,6]]);}));return function deleteReferral(_x){return _ref2.apply(this,arguments);};}();var _loop=function _loop(i){referrals[i]['edit']=/*#__PURE__*/_jsx(NavLink,{to:\"/referrals/edit/\".concat(referrals[i]['_id']),children:/*#__PURE__*/_jsx(Button,{style:{backgroundColor:'lightblue',border:'0'},children:\"Edit\"})});referrals[i]['delete']=/*#__PURE__*/_jsx(Button,{style:{backgroundColor:'darkred',border:'0'},onClick:function onClick(){return deleteReferral(referrals[i]['_id']);},children:\" Delete \"});referrals[i]['date']=referrals[i]['date'].split('T')[0];};for(var i in referrals){_loop(i);}var data={columns:[{label:'Referral No.',field:'referralNumber',sort:'asc',width:100},{label:'Student ID',field:'studentID',sort:'asc',width:200},{label:'Student',field:'studentName',sort:'asc',width:100},{label:'Date',field:'date',sort:'asc',width:200},{label:'Cause',field:'cause',sort:'asc',width:100},{label:'Action',field:'action',sort:'asc',width:150},{label:'Employee',field:'employeeID',sort:'asc',width:100},{label:'Parent Contact',field:'parentPhoneNumber',sort:'asc',width:100},{label:'Edit',field:'edit'},{label:'Delete',field:'delete'}],rows:referrals};return/*#__PURE__*/_jsxs(\"div\",{style:{marginLeft:'auto'},children:[/*#__PURE__*/_jsx(GlobalStyle,{}),/*#__PURE__*/_jsx(\"h2\",{style:{marginLeft:'50%'},children:\"Referrals\"}),/*#__PURE__*/_jsxs(\"div\",{style:{width:'80%',marginLeft:'10%',backgroundColor:'#fff',borderRadius:'10px',padding:'0 20px',boxShadow:'0px 0px 20px 0px rgba(0,0,0,0.2)',minWidth:'650px'},children:[/*#__PURE__*/_jsx(MDBDataTable,{striped:true,small:true,data:data,noBottomColumns:true}),/*#__PURE__*/_jsx(\"div\",{style:{paddingBottom:'20px'},children:/*#__PURE__*/_jsx(NavLink,{to:\"/referrals/create\",activeStyle:true,children:/*#__PURE__*/_jsx(Button,{children:\"Create Referral\"})})})]})]});}export default Referrals;","map":{"version":3,"names":["useState","useEffect","axios","NavLink","Button","styled","createGlobalStyle","css","MDBDataTable","jsx","_jsx","jsxs","_jsxs","GlobalStyle","_templateObject","_taggedTemplateLiteral","Referrals","_useState","_useState2","_slicedToArray","referrals","setReferrals","getReferrals","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","wrap","_callee$","_context","prev","next","get","sent","data","stop","apply","arguments","deleteReferral","_ref2","_callee2","id","_callee2$","_context2","delete","concat","filter","referral","_id","t0","console","error","_x","_loop","i","to","children","style","backgroundColor","border","onClick","split","columns","label","field","sort","width","rows","marginLeft","borderRadius","padding","boxShadow","minWidth","striped","small","noBottomColumns","paddingBottom","activeStyle"],"sources":["C:/Users/Noah Linton/Documents/repos/carpenterServer/client/src/pages/referrals.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport {NavLink} from \"../components/Navbar/NavbarElements\";\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport { Button } from \"react-bootstrap\";\r\nimport styled, {createGlobalStyle, css} from 'styled-components';\r\nimport { MDBDataTable } from 'mdbreact';\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n  html{\r\n    height: 100%;\r\n\r\n  }\r\n\r\n  body{\r\n    font-family: Arial, Helvetica, sans-serif;\r\n    background: linear-gradient(to top, #d1913c, #ffd194);\r\n    background-attachment: fixed;\r\n    height: 100%;\r\n    margin: 0;\r\n    color: 555;\r\n  }\r\n`\r\n\r\nfunction Referrals() {\r\n  const [referrals, setReferrals] = useState(null);\r\n  \r\n  useEffect (() => {\r\n    getReferrals();\r\n  }, []);\r\n\r\n  const getReferrals = async () => {\r\n    const res = await axios.get('http://localhost:3000/referrals');\r\n    setReferrals(res.data.referrals);\r\n  };\r\n  const deleteReferral = async (id) => {\r\n    try {\r\n      await axios.delete(`http://localhost:3000/referrals/${id}`);\r\n      setReferrals(referrals.filter((referral) => referral._id !== id));\r\n    } catch (error) {\r\n      console.error(\"Error deleting referral:\", error);\r\n    }\r\n  };\r\n  \r\n  for (let i in referrals){\r\n    referrals[i]['edit']=(<NavLink to={`/referrals/edit/${referrals[i]['_id']}`}><Button style={{backgroundColor: 'lightblue', border: '0'}}>Edit</Button></NavLink>)\r\n    referrals[i]['delete']= <Button\r\n    style={{backgroundColor: 'darkred', border: '0'}}\r\n    onClick={() => deleteReferral(referrals[i]['_id'])}\r\n  > Delete </Button>\r\n    referrals[i]['date']= referrals[i]['date'].split('T')[0]\r\n    \r\n  \r\n  }\r\n\r\n  const data = {\r\n    columns: [\r\n      {\r\n        label: 'Referral No.',\r\n        field: 'referralNumber',\r\n        sort: 'asc',\r\n        width: 100\r\n      },\r\n      {\r\n        label: 'Student ID',\r\n        field: 'studentID',\r\n        sort: 'asc',\r\n        width: 200\r\n      },\r\n      {\r\n        label: 'Student',\r\n        field: 'studentName',\r\n        sort: 'asc',\r\n        width: 100\r\n      },\r\n      {\r\n        label: 'Date',\r\n        field: 'date',\r\n        sort: 'asc',\r\n        width: 200\r\n      },\r\n      {\r\n        label: 'Cause',\r\n        field: 'cause',\r\n        sort: 'asc',\r\n        width: 100\r\n      },\r\n      {\r\n        label: 'Action',\r\n        field: 'action',\r\n        sort: 'asc',\r\n        width: 150\r\n      },\r\n      {\r\n        label: 'Employee',\r\n        field: 'employeeID',\r\n        sort: 'asc',\r\n        width: 100\r\n      },\r\n      {\r\n        label: 'Parent Contact',\r\n        field: 'parentPhoneNumber',\r\n        sort: 'asc',\r\n        width: 100\r\n      },\r\n      {\r\n        label: 'Edit',\r\n        field: 'edit',\r\n      },\r\n      {\r\n        label: 'Delete',\r\n        field: 'delete',\r\n      }\r\n    ],\r\n    rows: \r\n      referrals\r\n    }\r\n\r\n  return <div style={{marginLeft: 'auto'}}>\r\n    <GlobalStyle/>\r\n    <h2 style={{marginLeft: '50%'}}>Referrals</h2>\r\n    <div style={{width: '80%', marginLeft:'10%', backgroundColor: '#fff',\r\n                borderRadius: '10px', padding: '0 20px',boxShadow: '0px 0px 20px 0px rgba(0,0,0,0.2)', minWidth: '650px'}}>\r\n    <MDBDataTable\r\n      striped\r\n      small\r\n      data={data}\r\n      noBottomColumns={true} \r\n    />\r\n\r\n\r\n<div style={{paddingBottom:'20px'}}>\r\n<NavLink to=\"/referrals/create\" activeStyle>\r\n    <Button>Create Referral</Button>\r\n</NavLink>\r\n</div>\r\n</div>\r\n</div>     \r\n}\r\nexport default Referrals;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}