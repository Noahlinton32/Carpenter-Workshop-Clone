{"ast":null,"code":"import _objectSpread from\"C:/Users/Noah Linton/Documents/repos/carpenterServer/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Noah Linton/Documents/repos/carpenterServer/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useContext,createContext}from\"react\";// Create the authentication context\nimport{jsx as _jsx}from\"react/jsx-runtime\";var AuthContext=/*#__PURE__*/createContext();// AuthProvider component to provide authentication state and functions to the entire app\nvar AuthProvider=function AuthProvider(_ref){var children=_ref.children;var _useState=useState(function(){var storedUser=localStorage.getItem(\"user\");return storedUser?JSON.parse(storedUser):null;}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];useEffect(function(){localStorage.setItem(\"user\",JSON.stringify(user));},[user]);// Login function to set the user state\nvar login=function login(userData){setUser(_objectSpread(_objectSpread({},userData),{},{isAdmin:userData.user.isAdmin}));localStorage.setItem(\"user\",JSON.stringify(userData.user));};// Logout function to clear the user state\nvar logout=function logout(){setUser(null);localStorage.removeItem(\"user\");};// Provide the authentication state and functions to children components\nreturn/*#__PURE__*/_jsx(AuthContext.Provider,{value:{user:user,login:login,logout:logout},children:children});};// Custom hook to access the authentication context\nvar useAuth=function useAuth(){return useContext(AuthContext);};export{AuthProvider,useAuth,AuthContext};","map":{"version":3,"names":["React","useState","useEffect","useContext","createContext","jsx","_jsx","AuthContext","AuthProvider","_ref","children","_useState","storedUser","localStorage","getItem","JSON","parse","_useState2","_slicedToArray","user","setUser","setItem","stringify","login","userData","_objectSpread","isAdmin","logout","removeItem","Provider","value","useAuth"],"sources":["C:/Users/Noah Linton/Documents/repos/carpenterServer/client/src/authContext.js"],"sourcesContent":["import React, { useState, useEffect, useContext, createContext } from \"react\";\r\n// Create the authentication context\r\nconst AuthContext = createContext();\r\n// AuthProvider component to provide authentication state and functions to the entire app\r\nconst AuthProvider = ({ children }) => {\r\n  const [user, setUser] = useState(() => {\r\n    const storedUser = localStorage.getItem(\"user\");\r\n    return storedUser ? JSON.parse(storedUser) : null;\r\n  });\r\n  useEffect(() => {\r\n    localStorage.setItem(\"user\", JSON.stringify(user));\r\n  }, [user]);\r\n  // Login function to set the user state\r\n  const login = (userData) => {\r\n    setUser({\r\n      ...userData,\r\n      isAdmin: userData.user.isAdmin,\r\n    });\r\n    localStorage.setItem(\"user\", JSON.stringify(userData.user));\r\n  };\r\n  // Logout function to clear the user state\r\n  const logout = () => {\r\n    setUser(null);\r\n    localStorage.removeItem(\"user\");\r\n  };\r\n  // Provide the authentication state and functions to children components\r\n  return (\r\n    <AuthContext.Provider value={{ user, login, logout }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n// Custom hook to access the authentication context\r\nconst useAuth = () => {\r\n  return useContext(AuthContext);\r\n};\r\n\r\nexport { AuthProvider, useAuth, AuthContext };"],"mappings":"iSAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,UAAU,CAAEC,aAAa,KAAQ,OAAO,CAC7E;AAAA,OAAAC,GAAA,IAAAC,IAAA,yBACA,GAAM,CAAAC,WAAW,cAAGH,aAAa,CAAC,CAAC,CACnC;AACA,GAAM,CAAAI,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAAC,IAAA,CAAqB,IAAf,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CAC9B,IAAAC,SAAA,CAAwBV,QAAQ,CAAC,UAAM,CACrC,GAAM,CAAAW,UAAU,CAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAC/C,MAAO,CAAAF,UAAU,CAAGG,IAAI,CAACC,KAAK,CAACJ,UAAU,CAAC,CAAG,IAAI,CACnD,CAAC,CAAC,CAAAK,UAAA,CAAAC,cAAA,CAAAP,SAAA,IAHKQ,IAAI,CAAAF,UAAA,IAAEG,OAAO,CAAAH,UAAA,IAIpBf,SAAS,CAAC,UAAM,CACdW,YAAY,CAACQ,OAAO,CAAC,MAAM,CAAEN,IAAI,CAACO,SAAS,CAACH,IAAI,CAAC,CAAC,CACpD,CAAC,CAAE,CAACA,IAAI,CAAC,CAAC,CACV;AACA,GAAM,CAAAI,KAAK,CAAG,QAAR,CAAAA,KAAKA,CAAIC,QAAQ,CAAK,CAC1BJ,OAAO,CAAAK,aAAA,CAAAA,aAAA,IACFD,QAAQ,MACXE,OAAO,CAAEF,QAAQ,CAACL,IAAI,CAACO,OAAO,EAC/B,CAAC,CACFb,YAAY,CAACQ,OAAO,CAAC,MAAM,CAAEN,IAAI,CAACO,SAAS,CAACE,QAAQ,CAACL,IAAI,CAAC,CAAC,CAC7D,CAAC,CACD;AACA,GAAM,CAAAQ,MAAM,CAAG,QAAT,CAAAA,MAAMA,CAAA,CAAS,CACnBP,OAAO,CAAC,IAAI,CAAC,CACbP,YAAY,CAACe,UAAU,CAAC,MAAM,CAAC,CACjC,CAAC,CACD;AACA,mBACEtB,IAAA,CAACC,WAAW,CAACsB,QAAQ,EAACC,KAAK,CAAE,CAAEX,IAAI,CAAJA,IAAI,CAAEI,KAAK,CAALA,KAAK,CAAEI,MAAM,CAANA,MAAO,CAAE,CAAAjB,QAAA,CAClDA,QAAQ,CACW,CAAC,CAE3B,CAAC,CACD;AACA,GAAM,CAAAqB,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAA,CAAS,CACpB,MAAO,CAAA5B,UAAU,CAACI,WAAW,CAAC,CAChC,CAAC,CAED,OAASC,YAAY,CAAEuB,OAAO,CAAExB,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}